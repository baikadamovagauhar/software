<div [@dialog] *ngIf="visible" class="dialog">
  <button *ngIf="closable" (click)="close()" aria-label="Close" class="dialog__close-btn">X</button>
  <div class="basket">
    <h3 class="titleBskt"><i>Моя корзина</i></h3>
    <div class="scroll">
   <div class="basket-list" *ngFor="let product of products; index as i">
     <img src="{{baseUrl}}/{{product.image }}" alt="" class="pr-img">
     <div class="pr-info">
       <p class="pr-title">{{product.title}}</p>
       <div class="cnt">
         <div class="number">
           <span class="minus" (click)="minus(i)">-</span>
           <input type="text" value="{{product.amount}}" class="inp"/>
           <span class="plus" (click)="plus(i)">+</span>
         </div>
         <p class="pr-price">{{product.price * product.amount}} ₸</p>
       </div>
     </div>
     <p>Итого {{total}}</p>
   </div>
    </div>
  </div>
  <button class="clear" (click)="clear()">Очистить корзину</button>
  <button class="goToCard" (click)="checkout()">{{checkoutOrder ? 'Скрыть' : 'Оформить заказ'}}</button>
  <section *ngIf="checkoutOrder == true">
    <form [formGroup]="checkForm">
      <div class="form-group">
        <input type="text" class="form-control"
               id="username-registration" name="name" formControlName="name"
               [ngClass]="{'is-invalid': checkForm.get('name').errors && checkForm.get('name').touched}" placeholder="Ваше имя">
        <div class="invalid-feedback" *ngIf="checkForm.get('name').touched && checkForm.get('name').hasError('required')">
          Обязательное поле!
        </div>
        <input type="text" class="form-control" formControlName="surname"
               [ngClass]="{'is-invalid': checkForm.get('surname').errors && checkForm.get('surname').touched}" placeholder="Ваше фамилия">
        <div class="invalid-feedback" *ngIf="checkForm.get('surname').touched && checkForm.get('surname').hasError('required')">
          Обязательное поле!
        </div>
        <input type="text" class="form-control" value="{{address}}" disabled>
        <div class="block-1">
          <input type="text" class="form-control"
                 formControlName="dom"
                 [ngClass]="{'is-invalid': checkForm.get('dom').errors && checkForm.get('dom').touched}" placeholder="Подъезд">
          <div class="invalid-feedback" *ngIf="checkForm.get('dom').touched && checkForm.get('dom').hasError('required')">
            Обязательное поле!
          </div>
          <input type="text" class="form-control"
                 formControlName="kv"
               [ngClass]="{'is-invalid': checkForm.get('kv').errors && checkForm.get('kv').touched}" placeholder="Квартира">
          <div class="invalid-feedback" *ngIf="checkForm.get('kv').touched && checkForm.get('kv').hasError('required')">
            Обязательное поле!
          </div>
        </div>
        <input type="text" prefix="+7" mask="9999999999" class="form-control" name="phone" formControlName="phone"
               placeholder="Номер телефона">
        <div class="invalid-feedback" *ngIf="checkForm.get('phone').touched && checkForm.get('phone').hasError('required')">
          Обязательное поле!
        </div>
        <div class="choosePayType">
          <section class="div1">
            <input type="radio" id="card" name="payment" value="card" checked>
            <label for="card" class="ttl">Картой</label>
          </section>
          <section class="div2">
            <input type="radio" id="nal" name="payment" value="cash">
            <label for="nal" class="ttl">Наличными</label>
          </section>
        </div>
      </div>
    </form>
  </section>
</div>

<div *ngIf="visible" class="overlay" (click)="close()"></div>

